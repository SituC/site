## setState 和 useState 是 React 中用于管理组件状态的两种不同方式。


### setState
setState是异步的，这意味着当调用 setState 时，React 不会立即更新组件的状态。相反，它会将状态更新请求放入一个队列中，并在稍后的时间点批量处理这些更新。

这种异步行为有助于提高性能，因为 React 可以批量处理多个状态更新，并在单个渲染周期内进行有效的更新。但是，由于 setState 是异步的，这意味着在调用 setState 后立即访问更新后的状态可能不会得到预期的结果。

如果需要在 setState 完成并且状态已经更新后执行某些操作，可以使用 setState 的回调函数：
```js
this.setState({ 
  // 更新状态 
}, () => {
  // 在状态更新完成后执行的操作
});
```

### useState
useState是同步的，当调用 useState 来更新状态时，React 会立即更新组件的状态，并在`同一渲染周期`内应用这些更改。与 setState 不同，useState 不会将状态更新放入队列中等待批量处理。在调用 useState 后，可以立即访问更新后的状态，并且不需要担心异步更新带来的延迟。

## 区别

`setState`:
- 类组件：setState 是类组件中的方法，用于更新组件的状态。
- 异步更新：setState 是异步更新状态的，React 会将多个 setState 调用合并成一个更新来提高性能。
- 函数式更新：setState 可以接受一个函数作为参数，在函数中对前一个状态进行更新，而不是直接传递一个新的状态值。
- 合并更新：setState 会将更新合并成一个单一更新，而不是立即应用更新。这意味着 React 会将更新推迟到合适的时机，并且可能会在多次更新之后才进行渲染。

`useState`:
- 函数式组件：useState 是函数式组件中的 Hook，用于在函数组件中使用状态。
- 同步更新：useState 返回一个状态值和一个更新状态的函数，这个更新函数可以立即更新状态，并触发重新渲染。
- 独立状态：每次调用 useState 都会创建一个独立的状态，与其他状态之间没有关联，因此可以在一个函数组件中多次使用 useState 来管理多个状态。
- 不会合并更新：每次调用状态更新函数，都会立即应用更新并触发重新渲染，而不会合并更新或延迟渲染。